## PaddlePaddleæ·±åº¦å­¦ä¹ 7æ—¥å…¥é—¨CVç¯‡|Summaries

![avatar](https://mmbiz.qpic.cn/mmbiz_png/sKia1FKFiafgiaBaU5cOeECbUSWtmlQCqicImM2Lb1fk5GhEkYmjyHeAARE7xhKNgBl6pwd0V2RX1la3k1nVbgPhibg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)





[TOC]



## ä¸€ã€<font color=#B2DFEE>ä»€ä¹ˆæ˜¯PaddleXï¼Ÿ</font>

ä¾æ‰˜é£æ¡¨å¼€æºæ·±åº¦å­¦ä¹ æ¡†æ¶å’Œä¸°å¯Œçš„å·¥å…·ç»„ä»¶ï¼ŒPaddleXè¿›è¡Œå…¨æµç¨‹çš„æ•´åˆæ‰“é€šï¼Œä¸ºå¼€å‘è€…æä¾›é£æ¡¨å…¨æµç¨‹å¼€å‘çš„æœ€ä½³å®è·µã€‚å®ƒé›†é£æ¡¨æ ¸å¿ƒæ¡†æ¶ã€æ¨¡å‹åº“ã€å·¥å…·åŠç»„ä»¶ç­‰æ·±åº¦å­¦ä¹ å¼€å‘æ‰€éœ€å…¨éƒ¨èƒ½åŠ›äºä¸€èº«ï¼Œæä¾›ç®€æ˜æ˜“æ‡‚çš„Python APIï¼Œæ–¹ä¾¿ç”¨æˆ·æ ¹æ®å®é™…ç”Ÿäº§éœ€æ±‚è¿›è¡Œç›´æ¥è°ƒç”¨æˆ–äºŒæ¬¡å¼€å‘ï¼Œæ˜¯æå‡æ·±åº¦å­¦ä¹ é¡¹ç›®å¼€å‘æ•ˆç‡çš„æœ€ä½³è¾…åŠ©å·¥å…·ã€‚





## äºŒã€ä¸ºä»€ä¹ˆè¦å‚åŠ è®­ç»ƒè¥

1. ç”±äºä¸€åªè™è ï¼Œå¸¦æ¥äº†æ¼«é•¿çš„ç½‘è¯¾ï¼Œè€å¸ˆå¸ƒç½®çš„ä»»åŠ¡æ—¶å¤šæ—¶å°‘ï¼Œè€Œè‡ªå·±åœ¨å®Œæˆè€å¸ˆè§„å®šçš„ä»»åŠ¡åæ—¶é—´è¿˜æ¯”è¾ƒå……è£•ï¼Œæƒ³ç€ä¸å¦‚æ¥æ‰“å¡è¥å­¦ä¹ ï¼Œæå‡ä¸€ä¸‹è‡ªå·±
2. ç”±äºè‡ªå·±å‰æœŸæœ‰åœ¨å­¦ä¹ **python**ï¼Œè®­ç»ƒè¥çš„å†…å®¹ä¸æ‰€å­¦ä¹ŸæŒºé…ï¼Œç®—æ˜¯ä¸€ç§åœ¨pythonç¼–ç¨‹ä¸Šçš„è¿›é˜¶å§
3. ä¸ºä»¥åå‚åŠ äººå·¥æ™ºèƒ½æ¯”èµ›åšå‡†å¤‡ï¼ŒåŒæ—¶ä¹Ÿå¯¹è‡ªå·±ç©æ ‘è“æ´¾æ¯”è¾ƒæœ‰å¸®åŠ©





## ä¸‰ã€è®­ç»ƒè¥éƒ½å­¦äº›ä»€ä¹ˆ

### Day01 ä¸é¦™å›­æ•°æ®å¯è§†åŒ–

![avatar](https://ai-studio-static-online.cdn.bcebos.com/3ca5fa8e7019498ab7217aea7a552f0394ff092045174b9284920dbee57b0c1a)

![avatar](https://ai-studio-static-online.cdn.bcebos.com/28000edb58d34e2e991b6dc2739007ae837b9b031d8842528c9d9506941fbd17)



### Day02 æ‰‹åŠ¿è¯†åˆ«

<img src="https://tse1-mm.cn.bing.net/th/id/OIP.dS_KgpkP2weqKYrNIxsiuwHaBj?w=290&amp;h=68&amp;c=7&amp;o=5&amp;dpr=1.25&amp;pid=1.7" alt="æ‰‹åŠ¿è¯†åˆ«" style="zoom:150%;" />



### Day03 è½¦ç‰Œè¯†åˆ«

![è½¦ç‰Œè¯†åˆ«](C:\Users\86177\Desktop\è½¦ç‰Œè¯†åˆ«.png)



### Day04 å£ç½©è¯†åˆ«

![avatar](https://tse1-mm.cn.bing.net/th/id/OIP.hDpM6hXYP_RsxJPZgmqfYAHaD2?w=300&h=156&c=7&o=5&dpr=1.25&pid=1.7)



### Day05 Paddle hub åˆä½“éªŒ

åˆ©ç”¨Paddle hubè¿›è¡Œå£ç½©è¯†åˆ«

![trainning loss](C:\Users\86177\Desktop\trainning loss.png)

![trainning acc](C:\Users\86177\Desktop\trainning acc.png)

ï¼ˆæ”¹äº†å¥½ä¹…ï¼Œæœ€åå‡†ç¡®ç‡è¿˜æ˜¯å´©äº†ğŸ˜­ğŸ˜­ï¼‰

**ä»¥åŠ**

**==äººæµå¯†åº¦æ£€æµ‹æ¯”èµ›ï¼ï¼ï¼==**

![avatar](https://tse4-mm.cn.bing.net/th/id/OIP.LdHI1VqPDtGGD7ZUMvBgsQHaGx?w=159&h=160&c=7&o=5&dpr=1.25&pid=1.7)

![avatar](https://tse1-mm.cn.bing.net/th/id/OIP.GiVWXe0JwmrWft-SHlsIaAHaEE?w=291&h=160&c=7&o=5&dpr=1.25&pid=1.7)

æ•°æ®ç§ç±»æ¥æºå¤šæ ·ï¼Œé‡‡ç”¨æ¡†é€‰å’Œå¤´éƒ¨æ ‡ç‚¹è¿›è¡Œæ•°æ®ç»Ÿè®¡

é‡‡ç”¨*ä½¿ç”¨é«˜æ–¯æ»¤æ³¢å˜æ¢ç”Ÿæˆå¯†åº¦å›¾*

```python
# ä½¿ç”¨é«˜æ–¯æ»¤æ³¢å˜æ¢ç”Ÿæˆå¯†åº¦å›¾
def gaussian_filter_density(gt):
    #Generates a density map using Gaussian filter transformation
    # åˆå§‹åŒ–å¯†åº¦å›¾
    density = np.zeros(gt.shape, dtype=np.float32)
    
    # è·å–gtä¸­ä¸ä¸º0çš„å…ƒç´ çš„ä¸ªæ•°
    gt_count = np.count_nonzero(gt)
    
    # å¦‚æœgtå…¨ä¸º0ï¼Œå°±è¿”å›å…¨0çš„å¯†åº¦å›¾
    if gt_count == 0:
        return density

    # FInd out the K nearest neighbours using a KDTree
    
    pts = np.array(list(zip(np.nonzero(gt)[1].ravel(), np.nonzero(gt)[0].ravel())))
    
    # if gt_count > 0 and gt_count < 20: 
    
    # leafsize = 2048

    # # build kdtree
    # tree = scipy.spatial.KDTree(pts.copy(), leafsize=leafsize)

    # query kdtree
    # distances, locations = tree.query(pts, k=4)

    for i, pt in enumerate(pts):
        pt2d = np.zeros(gt.shape, dtype=np.float32)
        pt2d[pt[1],pt[0]] = 1.
        if gt_count > 1:
            # sigma = (distances[i][1]+distances[i][2]+distances[i][3])*0.1
            sigma = 25
        else:
            sigma = np.average(np.array(gt.shape))/2./2. #case: 1 point
        
        #Convolve with the gaussian filter
        
        density += scipy.ndimage.filters.gaussian_filter(pt2d, sigma, mode='constant')

    return density
```



è¿›è¡Œç½‘ç»œé…ç½®ï¼ˆå¯ä»¥é‡‡ç”¨VGG-16 å·ç§¯ç¥ç»ç½‘ç»œï¼‰

```python
def crowd_deconv_without_bn(img):
    x = img

    x = fluid.layers.conv2d(input=x, num_filters=64, filter_size=3, padding=1, act='relu')
    x = fluid.layers.batch_norm(input=x, act='relu')
    x = fluid.layers.conv2d(input=x, num_filters=64, filter_size=3, padding=1, act='relu')  
    print('3-64-2',x.shape)
    x = fluid.layers.pool2d(input=x, pool_size=2, pool_stride=2)  
    x = fluid.layers.dropout(x=x, dropout_prob=0.25)
    print('pool',x.shape)

    x = fluid.layers.conv2d(input=x, num_filters=128, filter_size=3, padding=1, act=None)  
    x = fluid.layers.batch_norm(input=x, act='relu')
    x = fluid.layers.conv2d(input=x, num_filters=128, filter_size=3, padding=1, act='relu') 
    print('3-128-2',x.shape)
    x = fluid.layers.pool2d(input=x, pool_size=2, pool_stride=2) 
    x = fluid.layers.dropout(x=x, dropout_prob=0.25)
    
    x = fluid.layers.conv2d(input=x, num_filters=256, filter_size=3, padding=1, act='relu') 
    x = fluid.layers.batch_norm(input=x, act='relu')
    x = fluid.layers.conv2d(input=x, num_filters=256, filter_size=3, padding=1, act=None) 
    x = fluid.layers.batch_norm(input=x, act='relu')
    x = fluid.layers.conv2d(input=x, num_filters=256, filter_size=3, padding=1, act='relu')  
    print('3-256-3',x.shape)
    x = fluid.layers.pool2d(input=x, pool_size=2, pool_stride=2)  
    x = fluid.layers.dropout(x=x, dropout_prob=0.5)
    
    # x = fluid.layers.conv2d(input=x, num_filters=512, filter_size=3, padding=1, act='relu')  
    # x = fluid.layers.conv2d(input=x, num_filters=512, filter_size=3, padding=1, act='relu')  
    # x = fluid.layers.conv2d(input=x, num_filters=512, filter_size=3, padding=1,act='relu' )  
    
    # x = fluid.layers.pool2d(input=x, pool_size=3, pool_stride=1, pool_padding=1) 
    # x = fluid.layers.pool2d(input=x, pool_size=2, pool_stride=2) 
    # x = fluid.layers.dropout(x=x, dropout_prob=0.5)

    x = fluid.layers.conv2d(input=x, num_filters=512, filter_size=3, padding=1, act='relu') 
    x = fluid.layers.dropout(x=x, dropout_prob=0.5)
    x = fluid.layers.conv2d(input=x, num_filters=512, filter_size=3, padding=1, act='relu') 
    x = fluid.layers.dropout(x=x, dropout_prob=0.5)
    x = fluid.layers.conv2d(input=x, num_filters=512, filter_size=3, padding=1)  
    x = fluid.layers.batch_norm(input=x, act=None)
    print('3-512-3',x.shape)
    # x = fluid.layers.pool2d(input=x, pool_size=3, pool_stride=2, pool_padding=1)  
    # x = fluid.layers.dropout(x=x, dropout_prob=0.5) 
    print('clowd_net output shape:',x.shape)

    return x
```

åé¢å°±æ˜¯**æ¨¡å‹è®­ç»ƒ**ï¼ˆåŸºæœ¬ä¸Šè€—æ—¶æœ€é•¿çš„éƒ¨åˆ†ï¼‰ã€æ¨¡å‹æ ¡éªŒã€**å‚æ•°è°ƒæ•´**ï¼ˆå¯¹äºç¬”è€…è¿™ä¸ªå°ç™½æ¥è¯´æœ€é‡è¦çš„ï¼‰

<u>*ä¿—è¯è¯´ï¼Œè°ƒå‚é”™ï¼Œå‡ºå‡ºé”™ï¼ˆä¸€ä¸ªå·ç§¯æ ¸shapeé”™è¯¯ï¼Œæˆ–è€…ä¸€ç»„æƒé‡é”™è¯¯ï¼Œéƒ½å¯èƒ½å¯¼è‡´ä½ è®­ç»ƒä¸€ä¸Šåˆçš„æ¨¡å‹é¢ä¸´è¿‡æ‹Ÿåˆï¼Œç”šè‡³â€œç˜«ç—ªâ€ï¼‰*</u>



### Day06 paddleslimæ¨¡å‹å‹ç¼©

![paddleslimæ¨¡å‹å‹ç¼©](C:\Users\86177\Desktop\paddleslimæ¨¡å‹å‹ç¼©.png)

### Day07 ç»“è¥ï¼Œå…¬å¸ƒæ¯”èµ›è·å¥–åå•ï¼Œçœ‹å¤§ä½¬è®²è§£æ¨¡å‹

![avatar](https://tse4-mm.cn.bing.net/th/id/OIP.jVQ7XRqFarjYDw1WCMfgIgAAAA?w=125&h=166&c=7&o=5&dpr=1.25&pid=1.7)

![avatar](https://tse4-mm.cn.bing.net/th/id/OIP.ONPMIAXtnUT966k5SU7fiwHaE6?w=300&h=195&c=7&o=5&dpr=1.25&pid=1.7)





## å››ã€åœ¨è®­ç»ƒè¥æ‰“å¡çš„æ„Ÿå—

1. ç¾¤é‡Œçš„å°ä¼™ä¼´ï¼ˆæœ‰éƒ¨åˆ†ä¹Ÿä¸èƒ½ç§°ä½œå°ä¼™ä¼´ï¼Œæ¯•ç«Ÿéƒ½å·¥ä½œäº†ğŸ˜‚ï¼‰è¶…çº§ç§¯æï¼Œå­¦ä¹ æ°›å›´æµ“åšã€‚æœ‰ä¸€ä½è·Ÿç¬”è€…ç»å¸¸è®¨è®ºçš„å¤§ä½¬ï¼ˆå‰30åï¼Œç¬”è€…èœé¸¡0.2çš„é”™è¯¯ç‡ä»78è¢«æŒ¤åˆ°100å¼€å¤–ï¼‰æœ‰ä¸€æ¬¡é€šå®µè·‘æ¨¡å‹è®­ç»ƒï¼Œä¸€è¿å·¥ä½œ15ä¸ªå°æ—¶
2. å¦ä¸€æ–¹é¢æ¥è¯´ï¼Œä¹Ÿæ˜¯è›®ç´¯çš„ï¼Œæ¯•ç«Ÿæ˜¯åœ¨æŒ¤æ—¶é—´æ¥è°ƒå‚ã€è®­ç»ƒæ¨¡å‹ï¼Œgpuç¯å¢ƒå¾—è¦ç®—åŠ›å¡æ‰èƒ½ç”¨ï¼Œåªæœ‰åœ¨æ™šä¸Š22ï¼š00åæ‰å¯èƒ½æŠ¢å¾—åˆ°gpuç¯å¢ƒï¼Œä¸å°‘è€å“¥éƒ½æ˜¯æ—©ä¸Š5ç‚¹èµ·åºŠæŠ¢ï¼ˆæœ‰ä¸€è¯´ä¸€ï¼Œgpuä¸Šè·‘èµ·æ¥çœŸçš„æ¯”cpuç¯å¢ƒå—å¤šäº†ï¼Œé£ä¸€èˆ¬çš„æ„Ÿè§‰ğŸ˜ğŸ˜ï¼‰
3. ç¾¤ä¸»å’Œè€å¸ˆçœŸçš„ä¹Ÿå¾ˆè´Ÿè´£ï¼Œæ‰¹æ”¹ä½œä¸šï¼Œå›ç­”é—®é¢˜ï¼Œä¸åŒå…¶çƒ¦ï¼Œæœ‰æ—¶å€™ç­ç­ä¹Ÿä¼šç”¨å¾®ä¿¡æœºå™¨äººçš„è„šæœ¬
4. éš¾åº¦æœ‰ç‚¹å¤§ï¼Œå¯¹äºå°ç™½æ¥è¯´ä¸å®¹æ˜“ï¼Œå„ç§vggã€cnnæ¨¡å‹ï¼Œå…¨è¿æ¥ç½‘ç»œã€ç¥ç»å·ç§¯ç½‘ç»œã€å„ç§ä¼˜åŒ–æ¨¡å‹ã€‚å¯¹äºä¿¡å¿ƒä¸è¶³çš„åŒå­¦æ¥è¯´ï¼Œåˆ†åˆ†é’ŸåŠé€€âœ‹âœ‹âœ‹ğŸ˜‚
5. paddleå¹³å°ä¸Šçš„apiå¤ªå¤šï¼ŒçŸ­æ—¶é—´å†…ä¸å®¹æ˜“å¼„æ‡‚
6. å°±ä¸ƒæ—¥çš„å®è·µæ¥çœ‹ï¼Œå†…å®¹ç¡®å®æœ‰ç‚¹å¤šï¼Œæ¶‰åŠå›¾åƒè¯†åˆ«ã€ç‰©å“åˆ†ç±»ã€æ•°æ®å¯è§†åŒ–ã€æ•°æ®çˆ¬å–ç­‰å¤šä¸ªæ–¹é¢ï¼Œä¸ƒå¤©å­¦ä¹ åªèƒ½ç®—æ˜¯å¼€äº†ä¸ªå¤´ï¼Œåé¢è¿˜éœ€è¦æ…¢æ…¢æ¶ˆåŒ–
7. æ„Ÿè°¢è¿™æ®µæ—¶é—´ç¾¤é‡Œå­¦ä¹ è´Ÿè´£äºº



## äº”ã€æœªæ¥è§„åˆ’

1. ç»§ç»­åˆ©ç”¨paddleå¹³å°å­¦ä¹ 
2. å¼ºåŒ–è‡ªå·±çš„ä¸“ä¸šèƒ½åŠ›
3. ä»…ä»…7å¤©çš„å­¦ä¹ åªèƒ½æ˜¯ä¸€ç§äº†è§£ï¼Œåé¢è¿˜éœ€è¦æ—¶é—´æ¥æ¶ˆåŒ–è¿™äº›æ¨¡å‹ï¼Œä¸ºè‡ªå·±æ‰€ç”¨
4. è¯»è®ºæ–‡ï¼Œå¤ç°è®ºæ–‡æ¨¡å‹

---





æœ€åæ”¾ä¸Špaddleå¹³å°é“¾æ¥ï¼ŒåŠ æ²¹å‘€ï¼š

**PaddleXå®˜ç½‘åœ°å€ï¼š**

https://www.paddlepaddle.org.cn/paddle/paddlex

![avatar](https://mmbiz.qpic.cn/mmbiz_gif/sKia1FKFiafghJh4BQqez7ZqJtUrD4w0Tic6AWZGtSGNK5GJ6pUPicib5iaBraz0gsNmfSrnC2JPFGQb2o1VPnj1BJ2g/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1)

![äºŒç»´ç ](C:\Users\86177\Desktop\äºŒç»´ç .png)